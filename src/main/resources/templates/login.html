<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layout :: site-head">
  <title>Login</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <link rel="stylesheet" href="../public/css/styles.css">
  <script src="../public/js/jquery-3.6.0.js"></script>
  <script src="../public/js/blog-scripts.js"></script>
</head>

<body>

<header th:fragment=“site-header” th:remove = "tag" id="header">
  <header>
    <a href=“index.html” th:href=“@{/}”>
      <img src="../public/img/lightLogo.png" th:src="@{/img/lightLogo.png}" id = "siteLogo" />
    </a>
    <a href="index.html" th:href="@{/}">Home</a>
    <a href="users/login.html" th:href="@{/users/login}">Login</a>
    <a href="users/register.html" th:href="@{/users/register}">Register</a>
    <a href="posts/index.html" th:href="@{/posts}">Posts</a>
    <a href="posts/create.html" th:href="@{/posts/create}">Create Post</a>
    <a href="users/index.html" th:href="@{/users}">Users</a>
    <div id="logged-in-info">
      <span>Hello, <b>(user)</b></span>
      <form method="post" th:action="@{/users/logout}">
        <input type="submit" value="Logout"/>
      </form>
    </div>

    <div id="toggle">
      <i class="indicator"></i>
    </div>

  </header>

  <ul id="messages" th:with="notifyMessages=${session[T(blog.services
          .NotificationServiceImpl).NOTIFY_MSG_SESSION_KEY]}">
    <li th:each="msg : ${notifyMessages}" th:text="${msg.text}"
        th:class="${#strings.toLowerCase(msg.type)}">
    </li>
    <span th:if="${notifyMessages}" th:remove="all" th:text="${session.remove(
          T(blog.services.NotificationServiceImpl).NOTIFY_MSG_SESSION_KEY)}"></span>
  </ul>
</header>

<h1 class="pageHeader">Login</h1>


<div class = "container" style="display: flex; justify-content: center">
  <div class = "row" id="formBox">
    <div class = "col-md-6 col-md-offset-3">

      <form method="post" th:object="${loginForm}" class="row g-3" id="loginForm">
        <!--username-->
        <div style="display: flex; justify-content: space-between; align-items: baseline">
          <div class="col-md-4">
            <label for="username" class="form-label"><h5>Username</h5></label>
          </div>

          <input id="username" class="form-control" type="text" name="username" th:value="*{username}" placeholder="Enter Username" autofocus="autofocus" style="margin-top: 0; max-width: 700px" required/>
        </div>

        <div th:if="${#fields.hasErrors('username')}" th:errors="*{username}">
          <div class="alert alert-danger">Invalid username</div>
        </div>


        <!--password-->
        <div style="display: flex; justify-content: space-between; align-items: baseline">
          <div class="col-md-4">
            <label for="password" th:value="*{username}" class="form-label"><h5>Password</h5></label>
          </div>

          <input class = "form-control" id="password" type="password" name="password" th:value="*{password}" placeholder="Enter password" style="margin-top: 0; max-width: 700px" required/>
        </div>
        <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}">
          <div class="alert alert-danger">Invalid password</div>
        </div>

        <!--submit button-->
        <div class="form-group">
          <div class="row" style="display: flex; justify-content: center">
            <div class="col-sm-6 col-sm-offset-3" style="display: flex; justify-content: center">
              <input type="submit" name="login-submit" id="login-submit" class="btn btn-primary" value="Log In" />
            </div>
          </div>
        </div>

        <!--register link-->
        <div class="form-group">
          <span><h5>New user? <a href="registration.html" th:href="@{/users/register}">Register here</a></h5></span>
        </div>
      </form>
    </div>
  </div>
</div>

<br>
<br>


<ul class="footer footer--links-social wow fadeIn" id="footer" style="visibility: visible; animation-name: fadeIn;">
  <li><a href="https://www.facebook.com/carolinafintechhub/"><img src="https://3chxux42u1m943cnnj18o850-wpengine.netdna-ssl.com/wp-content/uploads/2019/07/icon-facebook-2.svg" alt="Facebook Link" style="padding-right: 30px " class="footerIcon"></a></li>
  <li><a href="https://twitter.com/carolinafintech?lang=en"><img src="https://3chxux42u1m943cnnj18o850-wpengine.netdna-ssl.com/wp-content/uploads/2019/07/icon-twitter-FontAwesome.svg" alt="Twitter Link" style="padding-right: 30px" class="footerIcon"></a></li>
  <li><a href="https://www.instagram.com/carolinafintechhub/"><img src="https://3chxux42u1m943cnnj18o850-wpengine.netdna-ssl.com/wp-content/uploads/2019/07/Page-1.svg" alt="Instagram Link" style="padding-right: 30px" class="footerIcon"></a></li>
  <li><a href="https://www.linkedin.com/company/carolina-fintech-hub/"><img src="https://3chxux42u1m943cnnj18o850-wpengine.netdna-ssl.com/wp-content/uploads/2019/08/linkedin.svg" alt="LinkedIn Link" style="padding-right: 30px" class="footerIcon"></a></li>
</ul>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script>
  const body = document.querySelector('body');
  const formBox = document.getElementById('formBox');
  const toggle = document.getElementById('toggle');
  const header = document.getElementById('header');
  const footer = document.getElementById('footer');
  const siteLogo = document.getElementById('siteLogo');
  const footerIcon = document.getElementsByClassName('footerIcon');
  const formControl = document.getElementsByClassName('form-control');
  toggle.onclick=function(){
    toggle.classList.toggle('active');
    body.classList.toggle('active');
    formBox.classList.toggle('active');
    header.classList.toggle('active');
    footer.classList.toggle('active');
    siteLogo.classList.toggle('active');
    for(let i=0;i<footerIcon.length;i++){
      footerIcon[i].classList.toggle('active');
    }
    for(let i=0;i<formControl.length;i++){
      formControl[i].classList.toggle('active');
    }
  }

</script>
</body>

</html>